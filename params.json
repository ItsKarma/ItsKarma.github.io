{"name":"ItsKarma","tagline":"My DevOps Stack","body":"### Welcome to My Stack.\r\nThis is an overview of my DevOps stack. The tools I use, and why I use them.\r\n***\r\n### It all starts with the OS\r\nLinux: I prefer the RHEL family, and me being a free man, I like CentOS. When my head is in the clouds, I use Amazon Linux because it is optimized for the AWS/EC2 ecosystem.\r\n***\r\n### Infrastructure, who needs it?\r\nDatacenters are great, but they are a lot of work. Lots of people, lots of space, lots of hardware, power, ups, generators. Multiply all that by 2 because you need a disaster recovery site, unless you are okay with downtime. Scratch all that and go to the cloud. I personally use Amazon Web Services for my cloud computing. They are doing things that your datacenter doesn't, and probably for less.\r\n***\r\n### Packer\r\nUse [Packer](https://packer.io/) to build identical images for multiple platforms. In my case, from the same set of scripts I can build an Amazon Machine Image used for production, and a Docker Container or a Vagrant box for development. Using packer, I can hand my developers a production instance on their local workstations. No more dependency issues, no more \"It works on my laptop, I don't know why it's not working on the QA server.\" \r\n***\r\n### Dev/Test\r\nI tend to use [Vagrant](https://www.vagrantup.com/) for single server testing.\r\nIf you need to run a full production stack on your laptop, I'd use [Docker](https://www.docker.com/) for that.\r\n***\r\n### Configuration Management\r\n[Chef](https://www.chef.io/) is my tool of choice for configuration management. I also use the chef server as my single source of truth. No need for an inventory system, it's all in chef already. I use knife to query details about my nodes and publish them to an internal site, typically confluence, for all to view.\r\n***\r\n### Continuous Integration\r\n[Jenkins](https://jenkins-ci.org/) for automated builds, push button deployments and post deployment testing. I also use Jenkins for providing an interface to people who normally would not have access to perform a task. Analytics team needs an EMR cluster for 2 hours? No problem, here is the button you push to launch that, and now they don't need AWS credentials.\r\n***\r\n### Automate All The Things!\r\nI'm allergic to doing things twice. I like to do something once to understand the process, then the automation begins. I don't actually want to do any work, and I work very hard to make that happen by automating everything. It keeps me busy ;) My scripts and tools are typically written in bash or python depending on the complexity.\r\n***\r\n### Logging\r\n[ELK Stack](https://www.elastic.co/webinars/introduction-elk-stack) (Elasticsearch Logstash Kibana) with rsyslog forwarding the logs to a central logging server takes the load off the app server. The approach using rsyslog also frees up some memory and cpu cycles on the instance for more important tasks.\r\n***\r\n### Backup\r\n\"The minute you have a back-up plan, you've admitted you're not going to succeed.\" - Elizabeth Holmes\r\n\r\nTHIS DOES NOT APPLY TO DATA!\r\n\r\nI prefer this quote instead: \"Everything fails, all the time.\" - Werner Vogels\r\n\r\nNow lets look at what is backed up, and where.\r\n* Source Code - GitHub\r\n* Chef Cookbooks - GitHub\r\n* Chef Server Config - Packer -> GitHub\r\n* App Server Config - Packer -> GitHub\r\n* DB Server Config - Packer -> GitHub\r\n* Jenkins (deployment) Scripts - GitHub\r\n\r\nStarting to see a pattern?\r\n\r\nThis, is \"Infrastructure as code.\"\r\n\r\nThe only problem left to solve is, what about the data? If you are using Amazon RDS or DynamoDB, you don't need to worry about it, as you can take regular backups of RDS, and DynamoDB is stored in S3. If you run your database on EC2 such as MongoDB or CouchBase, you should be taking regular snapshots of your instances and having a few on hand for quick recovery.\r\n***\r\n### Maybe you want to learn a little more about me?\r\n```\r\n$ cat /home/itskarma/aboutme.json\r\n{\r\n  \"BasicInfo\": {\r\n    \"Name\": \"Matthew Karmazyn\",\r\n    \"Location\": \"Lehigh Valley, PA\",\r\n    \"Occupation\": \"Systems Engineer\",\r\n    \"Email\": \"matthew.karmazyn@gmail.com\"\r\n  },\r\n  \"Hobbies\": {\r\n    \"Computers\": {\r\n      \"Hardware\": \"Apple\",\r\n      \"Software\": \"Linux\"\r\n    },\r\n    \"Golf\": {\r\n      \"Handicap\": 18,\r\n      \"Course\": \"Olde Homestead\",\r\n      \"Brand\": \"TaylorMade\"\r\n    },\r\n    \"VideoGames\": {\r\n      \"CurrentlyPlaying\": [\r\n        \"League of Legends\",\r\n        \"Hearthstone\"\r\n      ],\r\n      \"Favorites\": [\r\n        \"Shadow of the Colossus\",\r\n        \"Super Smash Bros\",\r\n        \"Gears of War\",\r\n        \"Halo\",\r\n        \"Starcraft\",\r\n        \"Guild Wars\"\r\n      ]\r\n    }\r\n  },\r\n  \"Dislikes\": [\r\n    \"The fact that json does not support comments.\",\r\n    \"Listing my dislikes.\"\r\n  ]\r\n}\r\n```","google":"UA-63777307-1","note":"Don't delete this file! It's used internally to help with page regeneration."}