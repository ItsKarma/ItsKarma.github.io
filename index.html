<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>ItsKarma by ItsKarma</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">ItsKarma</h1>
      <h2 class="project-tagline">My DevOps Stack</h2>
    </section>

    <section class="main-content">
      <h3>
<a id="welcome-to-my-stack" class="anchor" href="#welcome-to-my-stack" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to My Stack.</h3>

<p>This is an overview of my DevOps stack. The tools I use, and why I use them.</p>

<hr>

<h3>
<a id="it-all-starts-with-the-os" class="anchor" href="#it-all-starts-with-the-os" aria-hidden="true"><span class="octicon octicon-link"></span></a>It all starts with the OS</h3>

<p>Linux: I prefer the RHEL family, and me being a free man, I like CentOS. When my head is in the clouds, I use Amazon Linux because it is optimized for the AWS/EC2 ecosystem.</p>

<hr>

<h3>
<a id="infrastructure-who-needs-it" class="anchor" href="#infrastructure-who-needs-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>Infrastructure, who needs it?</h3>

<p>Datacenters are great, but they are a lot of work. Lots of people, lots of space, lots of hardware, power, ups, generators. Multiply all that by 2 because you need a disaster recovery site, unless you are okay with downtime. Scratch all that and go to the cloud. I personally use Amazon Web Services for my cloud computing. They are doing things that your datacenter doesn't, and probably for less.</p>

<hr>

<h3>
<a id="packer" class="anchor" href="#packer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Packer</h3>

<p>Use <a href="https://packer.io/">Packer</a> to build identical images for multiple platforms. In my case, from the same set of scripts I can build an Amazon Machine Image used for production, and a Docker Container or a Vagrant box for development. Using packer, I can hand my developers a production instance on their local workstations. No more dependency issues, no more "It works on my laptop, I don't know why it's not working on the QA server." </p>

<hr>

<h3>
<a id="devtest" class="anchor" href="#devtest" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dev/Test</h3>

<p>I tend to use <a href="https://www.vagrantup.com/">Vagrant</a> for single server testing.
If you need to run a full production stack on your laptop, I'd use <a href="https://www.docker.com/">Docker</a> for that.</p>

<hr>

<h3>
<a id="configuration-management" class="anchor" href="#configuration-management" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration Management</h3>

<p><a href="https://www.chef.io/">Chef</a> is my tool of choice for configuration management. I also use the chef server as my single source of truth. No need for an inventory system, it's all in chef already. I use knife to query details about my nodes and publish them to an internal site, typically confluence, for all to view.</p>

<hr>

<h3>
<a id="continuous-integration" class="anchor" href="#continuous-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Continuous Integration</h3>

<p><a href="https://jenkins-ci.org/">Jenkins</a> for automated builds, push button deployments and post deployment testing. I also use Jenkins for providing an interface to people who normally would not have access to perform a task. Analytics team needs an EMR cluster for 2 hours? No problem, here is the button you push to launch that, and now they don't need AWS credentials.</p>

<hr>

<h3>
<a id="automate-all-the-things" class="anchor" href="#automate-all-the-things" aria-hidden="true"><span class="octicon octicon-link"></span></a>Automate All The Things!</h3>

<p>I'm allergic to doing things twice. I like to do something once to understand the process, then the automation begins. I don't actually want to do any work, and I work very hard to make that happen by automating everything. It keeps me busy ;) My scripts and tools are typically written in bash or python depending on the complexity.</p>

<hr>

<h3>
<a id="logging" class="anchor" href="#logging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Logging</h3>

<p><a href="https://www.elastic.co/webinars/introduction-elk-stack">ELK Stack</a> (Elasticsearch Logstash Kibana) with rsyslog forwarding the logs to a central logging server takes the load off the app server. The approach using rsyslog also frees up some memory and cpu cycles on the instance for more important tasks.</p>

<hr>

<h3>
<a id="backup" class="anchor" href="#backup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Backup</h3>

<p>"The minute you have a back-up plan, you've admitted you're not going to succeed." - Elizabeth Holmes</p>

<p>THIS DOES NOT APPLY TO DATA!</p>

<p>I prefer this quote instead: "Everything fails, all the time." - Werner Vogels</p>

<p>Now lets look at what is backed up, and where.</p>

<ul>
<li>Source Code - GitHub</li>
<li>Chef Cookbooks - GitHub</li>
<li>Chef Server Config - Packer -&gt; GitHub</li>
<li>App Server Config - Packer -&gt; GitHub</li>
<li>DB Server Config - Packer -&gt; GitHub</li>
<li>Jenkins (deployment) Scripts - GitHub</li>
</ul>

<p>Starting to see a pattern?</p>

<p>This, is "Infrastructure as code."</p>

<p>The only problem left to solve is, what about the data? If you are using Amazon RDS or DynamoDB, you don't need to worry about it, as you can take regular backups of RDS, and DynamoDB is stored in S3. If you run your database on EC2 such as MongoDB or CouchBase, you should be taking regular snapshots of your instances and having a few on hand for quick recovery.</p>

<hr>

<h3>
<a id="maybe-you-want-to-learn-a-little-more-about-me" class="anchor" href="#maybe-you-want-to-learn-a-little-more-about-me" aria-hidden="true"><span class="octicon octicon-link"></span></a>Maybe you want to learn a little more about me?</h3>

<pre><code>$ cat /home/itskarma/aboutme.json
{
  "BasicInfo": {
    "Name": "Matthew Karmazyn",
    "Location": "Lehigh Valley, PA",
    "Occupation": "Systems Engineer",
    "Email": "matthew.karmazyn@gmail.com"
  },
  "Hobbies": {
    "Computers": {
      "Hardware": "Apple",
      "Software": "Linux"
    },
    "Golf": {
      "Handicap": 18,
      "Course": "Olde Homestead",
      "Brand": "TaylorMade"
    },
    "VideoGames": {
      "CurrentlyPlaying": [
        "League of Legends",
        "Hearthstone"
      ],
      "Favorites": [
        "Shadow of the Colossus",
        "Super Smash Bros",
        "Gears of War",
        "Starcraft",
        "Guild Wars"
      ]
    }
  },
  "Dislikes": [
    "The fact that json does not support comments.",
    "Listing my dislikes."
  ]
}
</code></pre>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-63777307-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

